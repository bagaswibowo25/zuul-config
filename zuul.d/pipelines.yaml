- pipeline:
    name: check
    description: |
      Newly uploaded patchsets enter this pipeline to receive an
      initial check status.
    manager: independent
    trigger:
      github:
        # Run this pipeline on new/changed pull requests
        - event: pull_request
          action:
            - opened
            - changed
            - reopened
        # When using the checks API to report results, failed runs
        # will have a "re-run" button which emits this event.
        - event: check_run
          action: rerequested
          check: .*/check:.*
    start:
      github:
        check: 'in_progress'
        comment: false
    success:
      github:
        comment: false
        status: 'success'
    failure:
      github:
        comment: false
        status: 'failure'
    dequeue:
      github:
        check: cancelled
        comment: false